{% extends "base.html" %}

<!-- view can tell us if we're adding or editing -->
{% block pagetitle %}Mozilla Reps - Add new featured rep{% endblock %}

{% block content %}
    <!-- fix indents -->
        <div class="row">
            <div class="twelve columns">
              <!-- view can tell us if we're adding or editing -->
                <h5>Add or Edit Featured Reps article</h5>
            </div>
        </div>
	<div class="row">
	    <div class="six columns">
                <p>Please specify the rep and add descriptive text.</p>
                <form class="custom" method="post" action="{{ post_to }}" >
	          {% csrf_token %}
                  <!--
                   could this select have been generated by the form?

                   inline style :(
                  -->
		  <select id="id_user" name="user" style="display: none;">
		    {% if not form.user.value %}<option selected="selected" value="">---------</option>{% endif %}
		    {% for rep in reps %}
		    <option value="{{ rep.id }}" {% if rep.id == form.user.value %}selected="selected"{% endif %}>{{ rep.get_full_name }} :{{ rep.userprofile.display_name }}</option>
		    {% endfor %}
		  </select>
                  <!-- wrap error tags in an if? -->
                    <small class="error">{{ form.user.errors }}</small>
                    <textarea class="flat big" placeholder="Enter featured text using markup" name="text">{{ form.text.value }}</textarea>
		    <small class="error">{{ form.text.errors }}</small>
                  <!-- view can tell us if we're adding or editing -->
                    <button type="submit" class="featured-button small white button nice radius">Add or Edit Rep feature</button>
                </form>
            </div>
        </div>
{% endblock %}
